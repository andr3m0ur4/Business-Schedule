<?php $this->layout('_template', $this->data) ?>

<?php if (isset($message)) : ?>
    <div id="message">
        <?php if ($message->getType() == 'success') : ?>
            <div class="alert alert-info">
                <?= "{$message->getText()}." ?>
                <button type="button" aria-label="Close" class="close" data-dismiss="alert">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        <?php else : ?>
            <div class="alert alert-danger">
                <?= "Ops, {$message->getText()}." ?>
                <button type="button" aria-label="Close" class="close" data-dismiss="alert">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        <?php endif ?>
    </div>
<?php endif ?>

<section id="section">
    <div class="card">
        <div class="card-header">
            <div class="card-title">
                <h4>Cadastro de Administrador</h4>
            </div>
        </div>

        <div class="card-body">
            <form id="form_admin" name="form_admin" method="POST" class="text-right">

                <div class="form-row align-items-center">
                    <label for="id" class="col-sm-2 col-form-label">CÃ³digo</label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" id="id" name="id" value="<?= $administrator->getId() ?>" readonly>
                    </div>
                </div>

                <div class="form-row align-items-center">
                    <label for="name" class="col-sm-2 col-form-label mt-sm-2">Nome</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="name" name="name" value="<?= $administrator->getName() ?>" required>
                    </div>
                </div>

                <div class="form-row align-items-center">
                    <label for="email" class="col-sm-2 col-form-label mt-sm-2">Email</label>
                    <div class="col-sm-8">
                        <input type="email" class="form-control" id="email" name="email" value="<?= $administrator->getEmail() ?>" required>
                    </div>
                </div>

                <?php if ($exibirAdmin == false) : ?>
                    <div class="form-row align-items-center">
                        <label for="password" class="col-sm-2 col-form-label mt-sm-2">Senha</label>
                        <div class="col-sm-8">
                            <input type="password" class="form-control" id="password" name="password" required>
                        </div>
                    </div>
                <?php endif ?>

                <div class="form-row align-items-center">
                    <label for="phone" class="col-sm-2 col-form-label mt-sm-2">Celular</label>
                    <div class="col-sm-8">
                        <input type="tel" class="form-control" id="phone" name="phone" value="<?= $administrator->getPhone() ?>">
                    </div>
                </div>
            </form>
        </div>
        <div class="card-footer">
            <div>
                <button id="save" name="save" type="button" class="btn btn-success">Salvar</button>
                <button name="clear" type="button" class="btn btn-warning">Limpar</button>
                <?php if ($exibirAdmin == true) : ?>
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg">Editar senha</button>
                <?php endif ?>
            </div>
        </div>
    </div>
</section>